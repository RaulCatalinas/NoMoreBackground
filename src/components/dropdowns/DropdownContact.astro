---
// Components
import Option from './Option.astro'

// Layouts
import DropdownLayout from '@/layouts/DropdownLayout.astro'
import Placeholder from './Placeholder.astro'
---

<DropdownLayout id="contact-method" labelText="Contact Method">
  <Placeholder />
  <Option value="facebook" text="Facebook" />
  <Option value="instagram" text="Instagram" />
  <Option value="twitter" text="Twitter" />
  <Option value="github" text="GitHub" />
</DropdownLayout>

<script>
  // Constants
  import { SOCIAL_NETWORKS } from '@/constants/social-networks'

  // Utils
  import { $ } from '@/utils/dom'

  type SocialNetworkKey = keyof typeof SOCIAL_NETWORKS

  const $dropdownContact = $('#contact-method') as HTMLSelectElement

  $dropdownContact?.addEventListener('change', event => {
    const socialNetworkKey = (event.target as HTMLSelectElement)
      .value as SocialNetworkKey

    const socialNetwork = SOCIAL_NETWORKS[socialNetworkKey]

    open(socialNetwork, '_blank')
  })
</script>
